# Version 1.0.0 Change Log

**Release Date:** 2024-01-01  
**Status:** stable

## Description
Initial release of PHP Framework with core features.

## What's New
- Basic routing system
- Database query builder
- CSRF protection
- File upload handling
- Form validation
- View system with layouts

## Improvements
- None (initial release)

## Features

### Basic Routing
- **Description:** Simple route matching and controller dispatching
- **Icon:** `bi-router`
- **Color:** `primary`

### Database Query Builder
- **Description:** Fluent interface for database queries
- **Icon:** `bi-database`
- **Color:** `info`

### CSRF Protection
- **Description:** Basic CSRF token generation and validation
- **Icon:** `bi-shield-check`
- **Color:** `success`

### File Upload
- **Description:** File upload handling with validation
- **Icon:** `bi-file-earmark-arrow-up`
- **Color:** `warning`

### Form Validation
- **Description:** Input validation with rules
- **Icon:** `bi-check2-square`
- **Color:** `danger`

### View System
- **Description:** Template rendering with layouts
- **Icon:** `bi-view-stacked`
- **Color:** `dark`

## Comparison (vs Previous Version)

| Feature | Previous Version | Current Version |
|---------|-----------------|-----------------|
| Error Handling | N/A | Basic |
| Route Caching | N/A | None |
| Code Documentation | N/A | Minimal |
| Type Hints | N/A | Partial |
| Logging System | N/A | Not used |
| Resource Cleanup | N/A | Missing |
| Query Building | N/A | Inline |
| Input Validation | N/A | Basic |
| Database Error Handling | N/A | Basic echo |
| Controller Validation | N/A | None |

## Changelog by Component

### Core/App.php
- Basic routing implementation
- Controller loading
- Method resolution
- URL parsing

### Core/Router.php
- Route matching
- Named routes
- URL generation

### Core/Database.php
- Query builder implementation
- Fluent interface
- Basic connection handling

### Core/Controller.php
- Base controller class
- View rendering
- Response helpers

## Tutorials

### Routing
#### Section: Defining Routes
- **Heading:** Defining Routes
- **Content:** Routes are defined in `routes.php`. Each route needs a method, path, controller, and action.
- **Code:**
  ```php
  <?php
  
  return [
      'home' => [
          'method' => 'GET',
          'path' => '/',
          'controller' => 'html',
          'action' => 'index',
      ],
      'user.show' => [
          'method' => 'GET',
          'path' => '/user/{id}',
          'controller' => 'user',
          'action' => 'show',
      ],
  ];
  ```
- **Explanation:**
  - `method`: HTTP method (GET, POST, PUT, DELETE)
  - `path`: URL pattern with optional parameters like `{id}`
  - `controller`: Controller class name (without .php extension)
  - `action`: Method name in the controller

### Database
#### Section: Basic Queries
- **Heading:** Basic Queries
- **Content:** The query builder provides a fluent interface for building database queries.
- **Code:**
  ```php
  <?php
  
  use Connection\Database;
  
  $users = Database::table('users')->get();
  
  $activeUsers = Database::table('users')
      ->where('status = "active"')
      ->orderBy('created_at DESC')
      ->limit(10)
      ->get();
  ```
- **Explanation:**
  - `table('name')`: Sets the table name
  - `where('condition')`: Adds WHERE clause
  - `orderBy('column')`: Adds ORDER BY clause
  - `limit(number)`: Limits the number of results
  - `get()`: Executes the query and returns array of results

### Validation
#### Section: Validating Input
- **Heading:** Validating Input
- **Content:** Use the validator to validate form data with rules.
- **Code:**
  ```php
  <?php
  
  $validator = $this->validate($_POST, [
      'name' => 'required|min:3|max:50',
      'email' => 'required|email',
      'password' => 'required|min:8',
  ]);
  
  if ($validator->fails()) {
      flash('errors', $validator->errors());
      return $this->back();
  }
  ```
- **Explanation:**
  - `required`: Field must be present and not empty
  - `min:X`: Minimum length for strings
  - `max:X`: Maximum length for strings
  - `email`: Must be valid email format

### Views
#### Section: Rendering Views
- **Heading:** Rendering Views
- **Content:** Use the `view()` method to render templates with data.
- **Code:**
  ```php
  <?php
  
  class UserController extends Controller
  {
      public function show($params)
      {
          $user = User::find($params[0]);
          
          $this->view('user/show', [
              'user' => $user,
              'title' => 'User Profile'
          ]);
      }
  }
  ```
- **Explanation:**
  - Layout files are stored in `app/views/layouts/`
  - The view content is inserted into `$content` variable
  - You can set a default layout in the controller

### CSRF
#### Section: Adding CSRF Token to Forms
- **Heading:** Adding CSRF Token to Forms
- **Content:** Protect your forms from CSRF attacks by including a CSRF token.
- **Code:**
  ```html
  <form method="POST" action="<?= route('user.store') ?>">
      <?= csrf_field() ?>
      
      <input type="text" name="name" required>
      <button type="submit">Submit</button>
  </form>
  ```
- **Explanation:**
  - `csrf_field()`: Generates a hidden input with the CSRF token
  - The token is stored in the session and validated on each POST request
  - If the token doesn't match, the request is rejected

### Upload
#### Section: Handling File Uploads
- **Heading:** Handling File Uploads
- **Content:** Use the Upload class to handle file uploads with validation.
- **Code:**
  ```php
  <?php
  
  use Core\Upload;
  
  $file = Upload::make('file')
      ->allowed(['jpg', 'jpeg', 'png', 'pdf'])
      ->maxSize(5242880) // 5MB
      ->path('storage/uploads')
      ->store();
  ```
- **Explanation:**
  - `make('field')`: Specify the file input name
  - `allowed(['ext1', 'ext2'])`: Set allowed file extensions
  - `maxSize(bytes)`: Set maximum file size
  - `store()`: Saves the file and returns the filename

## Notes
This is the initial release of the PHP Framework. All core features are functional but may lack advanced error handling and documentation.

